syntax = "proto3";

// lokahiadmin is the administrative/backend API for lokahi power usage.
package github.xe.lokahi.admin;
option go_package = "lokahiadmin";

service RunLocal {
  rpc Checks(CheckIDs) returns (Run);
}

message CheckIDs {
  repeated string ids = 1;
}

message Run {
  message Health {
    string url = 1;
    int64 response_time_nanoseconds = 2;
    int32 status_code = 3;
    string body = 4;
    string error = 5;
    bool healthy = 6;
  }

  string id = 1;
  CheckIDs cids = 2;
  bool finished = 3;
  map<string, Health> results = 4;
}
